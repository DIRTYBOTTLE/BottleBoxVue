"use strict";(self["webpackChunkbottlebox"]=self["webpackChunkbottlebox"]||[]).push([[829],{2829:function(e,s,r){r.r(s),r.d(s,{default:function(){return B}});var t=r(3396),a=r(7139),i=r(9242);const n=e=>((0,t.dD)("data-v-0d5f98fc"),e=e(),(0,t.Cn)(),e),o={class:"container"},l=["src"],g={class:"panel"},c={class:"content login"},u={class:"switch"},m=n((()=>(0,t._)("span",null,"/",-1))),p={class:"form",id:"fromLogin"},d={class:"input"},b=n((()=>(0,t._)("label",{for:"email"},"邮箱",-1))),h={class:"input"},_=n((()=>(0,t._)("label",{for:"username"},"用户名",-1))),f={class:"input"},w=n((()=>(0,t._)("label",{for:"password"},"密码",-1))),y={class:"input"},v=n((()=>(0,t._)("label",{for:"Passwordrepeat"},"确认密码",-1))),F={class:"input"},k=n((()=>(0,t._)("label",{for:"username"},"用户名",-1))),C={class:"input"},x=n((()=>(0,t._)("label",{for:"Password"},"密码",-1))),U=n((()=>(0,t._)("span",null,"忘记?",-1))),V=n((()=>(0,t._)("br",null,null,-1))),P=n((()=>(0,t._)("br",null,null,-1))),j=["innerHTML"];function N(e,s,r,n,N,I){const M=(0,t.Q2)("loading");return(0,t.wg)(),(0,t.iD)("div",{class:"body",style:(0,a.j5)(I.setBackground())},[(0,t._)("div",o,[(0,t._)("img",{src:I.setImg()},null,8,l),(0,t._)("div",g,[(0,t._)("div",c,[(0,t._)("div",u,[(0,t._)("span",{class:(0,a.C_)({active:"login"===N.active}),onClick:s[0]||(s[0]=e=>I.go("login"))},"登陆",2),m,(0,t._)("span",{class:(0,a.C_)({active:"register"===N.active}),onClick:s[1]||(s[1]=e=>I.go("register"))},"注册",2)]),(0,t._)("div",p,["register"===N.active?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t._)("div",d,[(0,t.wy)((0,t._)("input",{class:(0,a.C_)({hasValue:N.registerForm.email}),"onUpdate:modelValue":s[2]||(s[2]=e=>N.registerForm.email=e),type:"text",name:"email",id:"email"},null,2),[[i.nr,N.registerForm.email]]),b]),(0,t._)("div",h,[(0,t.wy)((0,t._)("input",{class:(0,a.C_)({hasValue:N.registerForm.Username}),"onUpdate:modelValue":s[3]||(s[3]=e=>N.registerForm.name=e),type:"text",name:"Username",id:"username"},null,2),[[i.nr,N.registerForm.name]]),_]),(0,t._)("div",f,[(0,t.wy)((0,t._)("input",{class:(0,a.C_)({hasValue:N.registerForm.Password}),"onUpdate:modelValue":s[4]||(s[4]=e=>N.registerForm.password=e),type:"password",name:"Password",id:"password"},null,2),[[i.nr,N.registerForm.password]]),w]),(0,t._)("div",y,[(0,t.wy)((0,t._)("input",{class:(0,a.C_)({hasValue:N.registerForm.repeat}),"onUpdate:modelValue":s[5]||(s[5]=e=>N.registerForm.repeat=e),type:"password",name:"repeat",id:"Passwordrepeat"},null,2),[[i.nr,N.registerForm.repeat]]),v]),(0,t._)("button",{type:"submit",onClick:s[6]||(s[6]=(...e)=>I.register&&I.register(...e))},"注册")],64)):(0,t.kq)("",!0),"login"===N.active?((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t._)("div",F,[(0,t.wy)((0,t._)("input",{class:(0,a.C_)({hasValue:N.loginForm.Username}),"onUpdate:modelValue":s[7]||(s[7]=e=>N.loginForm.name=e),type:"text",name:"Username",id:"username"},null,2),[[i.nr,N.loginForm.name]]),k]),(0,t._)("div",C,[(0,t.wy)((0,t._)("input",{class:(0,a.C_)({hasValue:N.loginForm.Password}),"onUpdate:modelValue":s[8]||(s[8]=e=>N.loginForm.password=e),type:"password",name:"Password",id:"Password"},null,2),[[i.nr,N.loginForm.password]]),x]),U,(0,t._)("button",{type:"submit",onClick:s[9]||(s[9]=(...e)=>I.login&&I.login(...e))},"登陆")],64)):(0,t.kq)("",!0),V,P])])]),(0,t.wy)((0,t._)("div",{innerHTML:N.lyric,id:"lyric",style:{width:"29%",position:"absolute",right:"0",bottom:"40px",display:"flex","justify-content":"center","text-align":"center"}},null,8,j),[[M,!0]])])],4)}var I=r(6265),M=r.n(I),O=r(4775);const $=M().create();let D;$.interceptors.request.use((function(e){return D=O.kN.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),e.headers["Content-Type"]="application/json;charset=utf-8",e}),(function(e){return Promise.reject(e)})),$.interceptors.response.use((function(e){return D.close(),e}),(function(e){return Promise.reject(e)}));var H=$,L={name:"Music",data(){return{active:"login",registerForm:{email:"",name:"",password:"",repeat:""},loginForm:{name:"",password:""},lyric:"",bgUrl:[{bg:r(3824),bgOri:r(556)},{bg:r(7913),bgOri:r(3927)},{bg:r(1425),bgOri:r(6943)}],bgNum:0}},methods:{register(){this.registerForm.password===this.registerForm.repeat?(H.post("/api/user/registerUser.do",this.registerForm),this.go("login"),this.$message({type:"success",message:"注册成功"})):this.$message({type:"error",message:"两次密码输入不一致！"})},login(){H.post("/api/user/login.do",this.loginForm).then((e=>{"0"===e.data.code?(this.$message({type:"success",message:"登陆成功！"}),sessionStorage.setItem("user",JSON.stringify(e.data.data)),this.$router.push("/home")):this.$message({type:"error",message:"用户名或密码错误！"})}))},randomMusic(){M().get("https://v1.hitokoto.cn/?c=c&c=d&c=e&c=f&c=g&c=h&c=i&c=j&c=k&c=l").then((e=>{this.lyric=e.data.hitokoto}))},go(e){this.active=e},setBackground(){return{backgroundImage:"url("+this.bgUrl[this.bgNum].bgOri+")"}},randomNum(e,s){switch(arguments.length){case 1:return parseInt(Math.random()*e+1,10);case 2:return parseInt(Math.random()*(s-e+1)+e,10);default:return 0}},setImg(){return this.bgUrl[this.bgNum].bg}},created(){this.randomMusic(),this.bgNum=this.randomNum(0,this.bgUrl.length-1)}},q=r(89);const T=(0,q.Z)(L,[["render",N],["__scopeId","data-v-0d5f98fc"]]);var B=T},3824:function(e,s,r){e.exports=r.p+"img/bg1.3b875730.png"},556:function(e,s,r){e.exports=r.p+"img/bg1ori.e191c5b9.jpg"},7913:function(e,s,r){e.exports=r.p+"img/bg2.6536980b.png"},3927:function(e,s,r){e.exports=r.p+"img/bg2ori.0a3e4cb3.jpg"},1425:function(e,s,r){e.exports=r.p+"img/bg3.f16559f0.png"},6943:function(e,s,r){e.exports=r.p+"img/bg3ori.42cbe18a.jpg"}}]);
//# sourceMappingURL=829.48514ff2.js.map